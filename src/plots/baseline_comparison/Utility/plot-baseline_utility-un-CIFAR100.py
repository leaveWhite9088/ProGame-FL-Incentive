import matplotlib.pyplot as plt
import numpy as np
import matplotlib

# 设置全局字体为 Times New Roman
matplotlib.rcParams['font.family'] = 'Times New Roman'
matplotlib.rcParams['font.size'] = 16  # 同时设置字体大小

# 定义用户数量
users = [10, 20, 30, 40, 50, 60, 70, 80, 90, 100]

utility_com =[0.06791273924910575, 0.038527445267223494, 0.026244722255350333, 0.02685900000071963, 0.020659002387676963, 0.02092894041332864, 0.02220369338435682, 0.02352766529864762, 0.017602030558232316, 0.01851124119393437]

utility_pgirdfl =[0.0005055555555555554, 0.01598744736891618, 0.03202915196101914, 0.009789905788008903, 0.006772169639139161, 0.008643662042459501, 0.0057612427108524695, 0.008529748899051401, 0.013267986767244007, 0.009561708967991777]

utility_fixed =[0.02075598050806695, 0.012012087779018368, 0.00958697417595347, 0.006348078268571056, 0.004938979568704028, 0.004615226068509895, 0.003656175482445144, 0.0032050871385109437, 0.0027287827769362093, 0.0024604142245480782]

utility_random =[0.006473968634785924, 0.010527618081289727, 0.0029040503814913793, 0.0031393951606753386, 0.0007481535673488077, 0.0025906195410692846, 0.000816504053285554, 1.6899217704832452e-05, 0.00015214575285061016, 0.0019067239932512514]

# 绘制图表
plt.plot(users, utility_com, 'r--o', label='Comparison')  # 红色虚线，圆形标记
plt.plot(users, utility_pgirdfl, 'b--s', label='PGI-RDFL')  # 蓝色虚线，方形标记
plt.plot(users, utility_fixed, 'y--o', label='Fixed')
plt.plot(users, utility_random, 'g--^', label='Random')  # 绿色虚线，三角形标记

# 添加图例
plt.legend()

plt.tick_params(axis='x', labelsize=14)
plt.tick_params(axis='y', labelsize=14)

# 设置标题和坐标轴标签
plt.xlabel(r'$N$')
plt.ylabel(r'$U_n$')

# 强制显示完全
plt.tight_layout()

# 显示网格
plt.grid(True)

# 显示图表
plt.show()
