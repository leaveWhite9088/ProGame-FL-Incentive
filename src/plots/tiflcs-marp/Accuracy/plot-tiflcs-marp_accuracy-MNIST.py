import matplotlib.pyplot as plt
import numpy as np
import matplotlib

# 设置全局字体为 Times New Roman
matplotlib.rcParams['font.family'] = 'Times New Roman'
matplotlib.rcParams['font.size'] = 16  # 同时设置字体大小

# 定义轮次
users = range(100)

accuracy_baseline = [0.376, 0.407, 0.4282, 0.4446, 0.4518, 0.4614, 0.4693, 0.4814, 0.4951, 0.5178, 0.5413, 0.5643, 0.592,
                    0.6037, 0.6155, 0.6255, 0.6504, 0.6644, 0.6884, 0.7034, 0.7234, 0.7312, 0.7366, 0.7402, 0.7421,
                    0.7479, 0.7505, 0.7483, 0.751, 0.7533, 0.7538, 0.7559, 0.7514, 0.7532, 0.754, 0.7508, 0.7521, 0.754,
                    0.7584, 0.7619, 0.7675, 0.7761, 0.7769, 0.7845, 0.7953, 0.8015, 0.8032, 0.808, 0.817, 0.8209,
                    0.8194, 0.821, 0.8252, 0.8211, 0.8239, 0.8286, 0.8325, 0.826, 0.8262, 0.8315, 0.8299, 0.8378,
                    0.8358, 0.8364, 0.8325, 0.836, 0.8343, 0.837, 0.836, 0.8385, 0.8359, 0.8374, 0.8425, 0.8386, 0.8388,
                    0.8415, 0.8417, 0.8433, 0.8426, 0.8393, 0.8437, 0.8478, 0.8381, 0.8394, 0.8414, 0.8422, 0.8447,
                    0.8408, 0.8411, 0.8422, 0.8451, 0.8469, 0.8461, 0.8469, 0.8426, 0.8429, 0.8467, 0.8453, 0.8481,
                    0.846]

accuracy_pgirdfl = [0.376, 0.5064, 0.5734, 0.6372, 0.7214, 0.7481, 0.755, 0.7541, 0.7536, 0.765, 0.7933, 0.8183, 0.8229,
                   0.826, 0.828, 0.8346, 0.8332, 0.838, 0.8384, 0.8443, 0.8295, 0.8403, 0.8383, 0.8306, 0.824, 0.8352,
                   0.8298, 0.8278, 0.8363, 0.8419, 0.8418, 0.8554, 0.8432, 0.8522, 0.8458, 0.8488, 0.8449, 0.8642,
                   0.8487, 0.8514, 0.8588, 0.8515, 0.8596, 0.8538, 0.8605, 0.8637, 0.8642, 0.8635, 0.8651, 0.8645,
                   0.8678, 0.8673, 0.8684, 0.8632, 0.8745, 0.853, 0.8726, 0.8649, 0.8669, 0.8745, 0.8792, 0.8658,
                   0.8769, 0.8669, 0.8812, 0.8709, 0.8724, 0.8743, 0.8888, 0.8861, 0.8748, 0.8869, 0.8895, 0.8831,
                   0.8865, 0.8796, 0.885, 0.8883, 0.8837, 0.8883, 0.89, 0.8864, 0.8884, 0.8795, 0.8743, 0.8772, 0.8853,
                   0.8777, 0.8943, 0.8855, 0.8903, 0.8936, 0.8921, 0.8831, 0.8847, 0.8927, 0.8875, 0.8911, 0.8806, 0.89]

accuracy_fixed = [0.3701, 0.3994, 0.4147, 0.4274, 0.4342, 0.4364, 0.4455, 0.4592, 0.4729, 0.4888, 0.5045, 0.5225, 0.5514,
                 0.5609, 0.5806, 0.5947, 0.6027, 0.6153, 0.635, 0.6603, 0.6832, 0.7028, 0.7186, 0.7248, 0.7351, 0.738,
                 0.7417, 0.7459, 0.7501, 0.7542, 0.7534, 0.7538, 0.754, 0.7555, 0.7544, 0.754, 0.755, 0.7542, 0.7551,
                 0.756, 0.755, 0.7503, 0.7589, 0.7618, 0.7636, 0.7691, 0.7774, 0.7816, 0.7902, 0.7972, 0.8021, 0.8094,
                 0.8185, 0.8201, 0.822, 0.8238, 0.8265, 0.8277, 0.8294, 0.8267, 0.8316, 0.8308, 0.8317, 0.8306, 0.8301,
                 0.8309, 0.8291, 0.8343, 0.8324, 0.8343, 0.8337, 0.8355, 0.8361, 0.8327, 0.836, 0.8356, 0.8381, 0.8379,
                 0.8366, 0.8362, 0.8373, 0.8388, 0.8406, 0.8375, 0.8369, 0.8361, 0.8414, 0.8417, 0.837, 0.8431, 0.8445,
                 0.8403, 0.8385, 0.8415, 0.8426, 0.843, 0.8432, 0.8448, 0.8443, 0.8453]

accuracy_random = [0.3661, 0.3909, 0.4167, 0.439, 0.451, 0.4617, 0.4766, 0.4903, 0.5105, 0.532, 0.5584, 0.5944, 0.6091,
                  0.6336, 0.6613, 0.6881, 0.7097, 0.7231, 0.7337, 0.742, 0.7461, 0.7504, 0.7526, 0.7557, 0.7559, 0.7545,
                  0.7556, 0.753, 0.7529, 0.7547, 0.7535, 0.7544, 0.7598, 0.7655, 0.7749, 0.7823, 0.7889, 0.7966, 0.8078,
                  0.8119, 0.8149, 0.8208, 0.8253, 0.8228, 0.825, 0.8261, 0.8299, 0.8324, 0.8259, 0.8324, 0.831, 0.8283,
                  0.8277, 0.834, 0.8322, 0.8354, 0.8332, 0.8374, 0.8369, 0.8381, 0.8388, 0.8388, 0.8393, 0.8394, 0.8372,
                  0.8392, 0.8415, 0.835, 0.8416, 0.8424, 0.8437, 0.8422, 0.8404, 0.8458, 0.8417, 0.8433, 0.846, 0.8464,
                  0.8438, 0.8451, 0.8408, 0.8455, 0.8444, 0.8419, 0.8449, 0.843, 0.842, 0.8498, 0.8467, 0.8447, 0.8474,
                  0.844, 0.8441, 0.8444, 0.8464, 0.8455, 0.8493, 0.8465, 0.8422, 0.844]

accuracy_FL_Client_Sampling = [0.1006, 0.1728, 0.19, 0.1, 0.1128, 0.1136, 0.2496, 0.258, 0.2638, 0.1864, 0.208, 0.2114,
                              0.186, 0.24, 0.2944, 0.2958, 0.09, 0.2356, 0.212, 0.3514, 0.4218, 0.3916, 0.387, 0.4008,
                              0.4186, 0.4506, 0.4148, 0.4142, 0.5664, 0.5664, 0.4238, 0.2324, 0.4442, 0.4552, 0.4726,
                              0.3246, 0.2704, 0.3188, 0.4112, 0.4718, 0.4416, 0.5094, 0.5124, 0.5088, 0.5702, 0.597,
                              0.4698, 0.4218, 0.447, 0.5436, 0.528, 0.5982, 0.6854, 0.6702, 0.5656, 0.5712, 0.5626,
                              0.6244, 0.6744, 0.6984, 0.6978, 0.702, 0.708, 0.641, 0.6802, 0.5738, 0.5844, 0.5896,
                              0.597, 0.6028, 0.6104, 0.6158, 0.407, 0.4736, 0.5138, 0.595, 0.617, 0.6518, 0.6776,
                              0.6892, 0.676, 0.6774, 0.6858, 0.5064, 0.549, 0.5806, 0.67, 0.5768, 0.58, 0.5988, 0.648,
                              0.6494, 0.6618, 0.6644, 0.6672, 0.6692, 0.6816, 0.714, 0.7166, 0.6974]

accuracy_tiflcsmarp = []

# 绘制数据线
plt.plot(users, accuracy_baseline, 'r--o', markersize=5, linewidth=2, label='Baseline')
plt.plot(users, accuracy_pgirdfl, 'b--s', markersize=5, linewidth=2, label='PGI-RDFL')
plt.plot(users, accuracy_fixed, 'y--D', markersize=5, linewidth=2, label='Fixed')
plt.plot(users, accuracy_random, 'g--^', markersize=5, linewidth=2, label='Random')
plt.plot(users, accuracy_FL_Client_Sampling, 'm--*', markersize=5, linewidth=2, label='Client-Sampling')
plt.plot(users, accuracy_tiflcsmarp, 'b--*', markersize=5, linewidth=2, label='TiFLCS-MARP')

# 添加图例
plt.legend()

plt.tick_params(axis='x', labelsize=14)
plt.tick_params(axis='y', labelsize=14)

# 设置标题和坐标轴标签
plt.xlabel(r'$Round$')
plt.ylabel(r'$Accuracy$')

# 强制显示完全
plt.tight_layout()

# 显示网格
plt.grid(True)

# 显示图表
plt.show()
